# Talon Agent Policy â€” OpenClaw Gateway (agent.talon.yaml)
# Owner: AI governance / compliance team
# Generated by: talon init --pack openclaw
# Date: {{ .Date }}
#
# This policy governs LLM traffic forwarded through the Talon gateway on behalf
# of OpenClaw. The gateway config (talon.config.yaml) controls provider routing,
# caller authentication, and cost caps; this file controls the agent-level policy
# that the Talon server requires at boot.

agent:
  name: {{ .Name }}
  description: Talon gateway policy for OpenClaw LLM traffic
  version: 1.0.0
  model_tier: 0

capabilities:
  allowed_tools: []
  forbidden_patterns:
    - ".env"
    - "secrets"
    - "credentials"

policies:
  cost_limits:
    per_request: 1.0
    daily: 25.0
    monthly: 500.0

  resource_limits:
    timeout:
      operation: "60s"
      tool_execution: "5m"
      agent_total: "30m"

  rate_limits:
    requests_per_minute: 60
    concurrent_executions: 10
    per_agent_requests_per_minute: 30
    circuit_breaker_threshold: 5
    circuit_breaker_window: "60s"

  data_classification:
    input_scan: true
    output_scan: true
    redact_pii: false

  model_routing:
    tier_0:
      primary: gpt-4o-mini
      location: any

tool_policies:
  _default:
    argument_default: redact
    result: redact

audit:
  log_level: detailed
  retention_days: 365
  include_prompts: true
  include_responses: false

compliance:
  frameworks:
    - gdpr
  data_residency: eu

metadata:
  department: platform
  owner: "{{ .Owner }}"
  tags:
    - gateway
    - openclaw
    - governed
